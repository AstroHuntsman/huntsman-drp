<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Integration with LSST &mdash; huntsman-drp 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial/index.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            huntsman-drp
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Integration with LSST</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#file-ingestion">File ingestion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#butler-repositories">Butler Repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task-overrides">Task overrides</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pipelines">Pipelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Module Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">huntsman-drp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Integration with LSST</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/lsst.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="integration-with-lsst">
<h1>Integration with LSST<a class="headerlink" href="#integration-with-lsst" title="Permalink to this headline"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">huntsman-drp</span></code> uses the <a class="reference external" href="https://pipelines.lsst.io/">LSST science pipelines</a> to do the bulk of its data processing. It is
highly recommended to read through the <a class="reference external" href="https://pipelines.lsst.io/getting-started/index.html#">official tutorial</a>
before proceeding.</p>
<p>The LSST science pipelines are designed to use <code class="docutils literal notranslate"><span class="pre">Butler</span></code> repositories, which are essentially
directories containing configuration files, a variety of datasets and associated metadata. <code class="docutils literal notranslate"><span class="pre">huntsman-drp</span></code>
currently uses the “Generation 3” <code class="docutils literal notranslate"><span class="pre">Butler</span></code> version.</p>
<p>In order to allow the LSST code stack to work with Huntsman data, a Huntsman-specific “obs package”
is required. This package contains configuration information about the instrument, as well as
custom overrides for LSST tasks. The Huntsman obs package, <code class="docutils literal notranslate"><span class="pre">obs_huntsman</span></code>, is developed <a class="reference external" href="https://github.com/AstroHuntsman/obs_huntsman">here</a>.
The current approach is to develop pure LSST code in <code class="docutils literal notranslate"><span class="pre">obs_huntsman</span></code>, such as task overrides and custom pipelines.</p>
<section id="file-ingestion">
<h2>File ingestion<a class="headerlink" href="#file-ingestion" title="Permalink to this headline"></a></h2>
<p>Standardised file ingestion is performed using the <a class="reference external" href="https://github.com/lsst/astro_metadata_translator">astro_metadata_translator</a> package.
This is the standard approach for ingestion files into a Butler Repository. All metadata is derived
from the FITS header rather than the filename. A description of the standard metadata items can
be found <a class="reference external" href="https://astro-metadata-translator.lsst.io/py-api/astro_metadata_translator.ObservationInfo.html#astro_metadata_translator.ObservationInfo">here</a>.</p>
</section>
<section id="butler-repositories">
<h2>Butler Repositories<a class="headerlink" href="#butler-repositories" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">huntsman-drp</span></code> package provides a <code class="docutils literal notranslate"><span class="pre">ButlerRepository</span></code> class, a wrapper encapsulating the functionality
of a Butler Repository, which otherwise requires command-line interface (CLI) to setup and use. The
<code class="docutils literal notranslate"><span class="pre">ButlerRepository</span></code> class makes it easy to do this without using the command-line interface,
and provides additional convenience features used throughout the package. Please see the tutorial for
how to use this class.</p>
</section>
<section id="task-overrides">
<h2>Task overrides<a class="headerlink" href="#task-overrides" title="Permalink to this headline"></a></h2>
<p>One of the main advantages of using the LSST stack is that we can use pipeline tasks. These are highly configurable pieces
of code that are designed to perform specific objectives, such as detecting sources, measuring background
or matching a photometric reference catalogue to a detected source catalogue. Most tasks are usable with their default settings
and do not need to be overridden. However, tasks that require modifications are overridden in the
<a class="reference external" href="https://github.com/AstroHuntsman/obs_huntsman/tree/develop/python/lsst/obs/huntsman/tasks">obs_huntsman</a> package.</p>
</section>
<section id="pipelines">
<h2>Pipelines<a class="headerlink" href="#pipelines" title="Permalink to this headline"></a></h2>
<p>LSST pipelines are a series of tasks that linked together by their respective inputs and outputs, often
written in <code class="docutils literal notranslate"><span class="pre">yaml</span></code> files. They are used for combining individual tasks into larger pipelines, for example
to create master calibration files or to calibrate and / or coadd science exposures starting from the raw
exposures as inputs. Custom overrides to LSST pipelines are located in the <code class="docutils literal notranslate"><span class="pre">obs_huntsman</span></code> <a class="reference external" href="https://github.com/AstroHuntsman/obs_huntsman/tree/develop/pipelines">pipelines directory</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial/index.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, danjampro, fergusL, lspitler.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>